<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Aprende Jugando con los Textos!</title>
    <!-- CDN de Tailwind CSS para estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- CDN de la fuente Inter para un aspecto moderno y legible -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap" rel="stylesheet">
    <!-- CDN de Tone.js para efectos de sonido program√°ticos -->
    <script src="https://unpkg.com/tone"></script>
    <style>
        /* Establece la fuente global para el cuerpo del documento */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Animaci√≥n de rebote para el t√≠tulo principal */
        @keyframes bounce {
            0%, 100% {
                transform: translateY(-5%);
                animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
            }
            50% {
                transform: translateY(0);
                animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
            }
        }
        .animate-bounce {
            animation: bounce 1s infinite;
        }
    </style>
</head>
<body>
    <!-- El elemento ra√≠z donde se montar√° la aplicaci√≥n React -->
    <div id="root"></div>

    <!-- CDNs de React y ReactDOM para permitir que JSX se ejecute en el navegador -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- CDN de Babel para transformar el c√≥digo JSX en JavaScript que el navegador pueda entender.
         Esto es √∫til para desarrollo, pero en producci√≥n se compilar√≠a previamente. -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Script principal de la aplicaci√≥n React. El tipo "text/babel" le dice a Babel que lo procese. -->
    <script type="text/babel">
        // Componente principal de la aplicaci√≥n
        const App = () => {
            // Estado para controlar qu√© p√°gina se muestra actualmente
            const [currentPage, setCurrentPage] = React.useState('home');

            // Referencias para los sintetizadores de sonido de Tone.js
            const correctSynth = React.useRef(null);
            const incorrectSynth = React.useRef(null);
            const isToneInitialized = React.useRef(false); // Bandera para saber si Tone.js ya se inicializ√≥

            // Funci√≥n asincr√≥nica para inicializar Tone.js y reproducir un sonido
            const initializeAndPlaySound = async (soundType) => {
                // Inicializa Tone.js solo una vez al primer clic del usuario
                if (!isToneInitialized.current) {
                    await Tone.start(); // Inicia el contexto de audio (requiere interacci√≥n del usuario)
                    // Configuraci√≥n del sintetizador para el sonido correcto
                    correctSynth.current = new Tone.Synth({
                        oscillator: { type: "sine" },
                        envelope: { attack: 0.01, decay: 0.2, sustain: 0.1, release: 0.5 },
                    }).toDestination();
                    // Configuraci√≥n del sintetizador para el sonido incorrecto
                    incorrectSynth.current = new Tone.PolySynth(Tone.Synth, {
                        oscillator: { type: "square" },
                        envelope: { attack: 0.005, decay: 0.1, sustain: 0.05, release: 0.1 },
                        volume: -10 // Volumen ligeramente m√°s bajo para el incorrecto
                    }).toDestination();
                    isToneInitialized.current = true;
                    console.log("Tone.js initialized");
                }

                // Reproduce el sonido seg√∫n el tipo
                if (soundType === 'correct' && correctSynth.current) {
                    correctSynth.current.triggerAttackRelease("C5", "8n"); // Nota C5, duraci√≥n de una corchea
                } else if (soundType === 'incorrect' && incorrectSynth.current) {
                    incorrectSynth.current.triggerAttackRelease(["C3", "C#3"], "8n"); // Acorde disonante
                }
            };

            // Funci√≥n para cambiar la p√°gina mostrada
            const navigateTo = (page) => {
                setCurrentPage(page);
            };

            // Funci√≥n que renderiza el componente de la p√°gina actual basado en el estado 'currentPage'
            const renderPage = () => {
                // Pasa initializeAndPlaySound a todas las p√°ginas para que puedan reproducir sonidos
                return React.createElement(
                    {
                        'home': HomePage,
                        'narrativo': NarrativeTextPage,
                        'descriptivo': DescriptiveTextPage,
                        'expositivo': ExpositoryTextPage,
                        'argumentativo': ArgumentativeTextPage,
                        'teoria': TheoryPage
                    }[currentPage] || HomePage,
                    { navigateTo, initializeAndPlaySound }
                );
            };

            return (
                // Contenedor principal con estilos de fondo y texto generales de Tailwind CSS
                <div className="min-h-screen bg-[#1a1a2e] text-[#e0e0e0] font-inter p-4 sm:p-8">
                    {/* Contenedor central de la aplicaci√≥n con estilos de tarjeta */}
                    <div className="max-w-6xl mx-auto bg-[#2a2a4a] rounded-xl shadow-lg p-6 sm:p-10 border border-[#3a3a5a]">
                        {renderPage()} {/* Renderiza la p√°gina activa */}
                    </div>
                </div>
            );
        };

        // Componente reutilizable para los botones de navegaci√≥n
        const NavButton = ({ children, onClick, colorClass = 'bg-[#4da6ff] hover:bg-[#3a99ee]', icon = null }) => (
            <button
                onClick={onClick}
                className={`flex items-center justify-center p-3 sm:p-4 text-lg sm:text-xl font-bold rounded-xl shadow-md transition-all duration-300 transform hover:scale-105 ${colorClass} text-white`}
            >
                {/* Muestra un icono si se proporciona */}
                {icon && <span className="mr-2 text-2xl sm:text-3xl">{icon}</span>}
                {children} {/* Texto del bot√≥n */}
            </button>
        );

        // Componente para la p√°gina de inicio
        const HomePage = ({ navigateTo, initializeAndPlaySound }) => (
            <div className="text-center">
                {/* T√≠tulo animado y llamativo */}
                <h1 className="text-4xl sm:text-6xl font-extrabold mb-8 text-[#9a4aff] animate-bounce">
                    ¬°Aprende Jugando con los Textos! üìö‚ú®
                </h1>
                {/* P√°rrafo introductorio */}
                <p className="text-lg sm:text-xl mb-12 leading-relaxed">
                    ¬°Hola, peque√±os exploradores de las palabras! Prep√°rense para una emocionante aventura donde descubriremos el incre√≠ble mundo de los tipos de texto. ¬øListos para aprender y divertirnos?
                </p>

                {/* Grid de botones de navegaci√≥n a las diferentes secciones */}
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
                    <NavButton onClick={() => { initializeAndPlaySound(); navigateTo('narrativo'); }} icon="üìñ" colorClass="bg-[#ff7f50] hover:bg-[#e66c40]">
                        Texto Narrativo
                    </NavButton>
                    <NavButton onClick={() => { initializeAndPlaySound(); navigateTo('descriptivo'); }} icon="üé®" colorClass="bg-[#4da6ff] hover:bg-[#3a99ee]">
                        Texto Descriptivo
                    </NavButton>
                    <NavButton onClick={() => { initializeAndPlaySound(); navigateTo('expositivo'); }} icon="üí°" colorClass="bg-[#ffe066] text-[#1a1a2e] hover:bg-[#e0c65c]">
                        Texto Expositivo
                    </NavButton>
                    <NavButton onClick={() => { initializeAndPlaySound(); navigateTo('argumentativo'); }} icon="üó£Ô∏è" colorClass="bg-[#9a4aff] hover:bg-[#8038d1]">
                        Texto Argumentativo
                    </NavButton>
                    <NavButton onClick={() => { initializeAndPlaySound(); navigateTo('teoria'); }} icon="üß†" colorClass="bg-[#6c757d] hover:bg-[#5a6268]">
                        Teor√≠a del Texto
                    </NavButton>
                </div>

                {/* Instrucci√≥n al usuario */}
                <p className="text-md sm:text-lg mt-12 opacity-80">
                    ¬°Haz clic en cada tipo de texto para empezar!
                </p>
            </div>
        );

        // Componente Modal para las actividades del cuaderno
        const ActivityModal = ({ title, instructions, onClose }) => {
            return (
                // Overlay oscuro que cubre toda la pantalla
                <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
                    {/* Contenedor del modal */}
                    <div className="bg-[#2a2a4a] rounded-xl shadow-lg p-6 sm:p-8 max-w-2xl w-full text-[#e0e0e0] relative">
                        {/* Bot√≥n para cerrar el modal */}
                        <button
                            onClick={onClose}
                            className="absolute top-4 right-4 text-white text-3xl font-bold p-2 rounded-full hover:bg-gray-700 transition-colors"
                        >
                            &times; {/* S√≠mbolo de la X para cerrar */}
                        </button>
                        {/* T√≠tulo de la actividad en el modal */}
                        <h3 className="text-3xl sm:text-4xl font-bold text-[#ffe066] mb-6 text-center">
                            {title} üìù
                        </h3>
                        {/* Instrucciones de la actividad */}
                        <div className="text-lg leading-relaxed mb-8">
                            {instructions}
                        </div>
                        {/* Bot√≥n para cerrar el modal */}
                        <div className="text-center">
                            <NavButton onClick={onClose} colorClass="bg-[#6c757d] hover:bg-[#5a6268]">
                                Entendido, ¬°a mi cuaderno!
                            </NavButton>
                        </div>
                    </div>
                </div>
            );
        };

        // Componente para la p√°gina de Texto Narrativo
        const NarrativeTextPage = ({ navigateTo, initializeAndPlaySound }) => {
            // Estado para el feedback de la actividad, el elemento arrastrado y la puntuaci√≥n
            const [feedback, setFeedback] = React.useState('');
            const [droppedItem, setDroppedItem] = React.useState(null);
            const [score, setScore] = React.useState(0); // Nuevo estado para la puntuaci√≥n

            // Lista de palabras disponibles para arrastrar
            const [availableWords, setAvailableWords] = React.useState([
                'Cuento', 'Noticia', 'F√°bula', 'Receta', 'Biograf√≠a', 'Ensayo', 'Leyenda', 'Art√≠culo cient√≠fico'
            ]);
            // Lista de palabras correctas que son ejemplos de texto narrativo
            const correctNarrativeExamples = ['Cuento', 'F√°bula', 'Biograf√≠a', 'Leyenda'];

            // Estado para controlar la visibilidad del modal de la actividad del cuaderno
            const [showNarrativeActivityModal, setShowNarrativeActivityModal] = React.useState(false);

            // Contenido de la actividad del cuaderno para el modal (EXTENDIDA)
            const narrativeActivityContent = (
                <>
                    <p className="text-lg mb-4 leading-relaxed font-bold text-[#ff7f50]">
                        Tiempo estimado: 1 hora
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 1: ¬°Imagina un personaje principal! (15 minutos)**
                        <br/>
                        En tu cuaderno, piensa en un personaje principal para una historia. Describe su apariencia, su personalidad, qu√© le gusta hacer y qu√© le disgusta. ¬øTiene alg√∫n poder especial o una caracter√≠stica √∫nica? ¬°Dib√∫jalo si quieres!
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 2: Crea un problema o aventura (15 minutos)**
                        <br/>
                        Ahora, piensa en un problema que tu personaje debe resolver o una aventura emocionante en la que se embarcar√°. ¬øHay un misterio que debe desentra√±ar? ¬øUn objeto perdido que necesita encontrar? ¬øUn viaje a un lugar m√°gico?
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 3: Desarrolla el inicio, nudo y desenlace (20 minutos)**
                        <br/>
                        Usando lo que imaginaste, escribe en tu cuaderno el inicio, el nudo (el desarrollo del problema) y el desenlace (c√≥mo se resuelve y qu√© pasa al final) de tu historia. No tienen que ser largos, solo las ideas principales de cada parte.
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 4: ¬°Escribe tu mini-historia! (10 minutos)**
                        <br/>
                        Con tus ideas organizadas, escribe una mini-historia (uno o dos p√°rrafos) en tu cuaderno, uniendo el inicio, nudo y desenlace. ¬°Recuerda usar un narrador que cuente los eventos!
                    </p>
                    <p className="text-lg font-semibold text-center mt-6">
                        ¬°Cuando termines, puedes compartir tu historia con alguien!
                    </p>
                </>
            );

            // Manejador para el inicio del arrastre
            const handleDragStart = (e, item) => {
                e.dataTransfer.setData('text/plain', item); // Guarda el nombre del elemento arrastrado
            };

            // Manejador para cuando se suelta un elemento
            const handleDrop = (e) => {
                e.preventDefault();
                const data = e.dataTransfer.getData('text/plain'); // Recupera el dato arrastrado

                // Verifica si el elemento arrastrado es un ejemplo narrativo correcto
                if (correctNarrativeExamples.includes(data)) {
                    // Si es correcto y no ha sido arrastrado antes, aumenta la puntuaci√≥n
                    if (!droppedItem || droppedItem !== data) { // Evita puntos dobles si se arrastra el mismo item
                        setScore(prevScore => prevScore + 10); // Suma 10 puntos por respuesta correcta
                        setFeedback(`¬°Correcto! "${data}" es un texto narrativo. üéâ`);
                        initializeAndPlaySound('correct'); // Reproduce sonido correcto

                        // Elimina la palabra de las opciones disponibles
                        setAvailableWords(prevWords => prevWords.filter(word => word !== data));
                    } else {
                        setFeedback(`¬°Ya arrastraste "${data}"!`);
                    }
                } else {
                    setFeedback(`¬°Int√©ntalo de nuevo! "${data}" no es un ejemplo de texto narrativo.`);
                    initializeAndPlaySound('incorrect'); // Reproduce sonido incorrecto
                }
                setDroppedItem(data); // Actualiza el item soltado (se muestra en la caja)
            };

            // Manejador para permitir el arrastre sobre el √°rea de destino
            const handleDragOver = (e) => {
                e.preventDefault();
            };

            return (
                <div className="relative p-4">
                    <h2 className="text-3xl sm:text-5xl font-extrabold mb-6 text-[#ff7f50] text-center">
                        Texto Narrativo üìñ
                    </h2>
                    <p className="text-md sm:text-lg mb-6 leading-relaxed">
                        El texto narrativo se encarga de relatar una serie de eventos, ya sean reales o imaginarios, construyendo un universo donde los personajes interact√∫an en una trama espec√≠fica y en un ambiente determinado. El narrador es la voz que gu√≠a al lector a trav√©s de esta secuencia de acontecimientos.
                    </p>
                    <p className="text-md sm:text-lg mb-8 leading-relaxed">
                        Ejemplos cl√°sicos incluyen novelas, cuentos, f√°bulas y biograf√≠as.
                    </p>

                    {/* Secci√≥n de conceptos clave del texto narrativo */}
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8 text-center">
                        <div className="bg-[#3a3a5a] p-4 rounded-xl shadow-inner border border-[#4a4a6a]">
                            <h3 className="text-xl sm:text-2xl font-bold text-[#ffe066] mb-3">Personajes üßë‚Äçü§ù‚Äçüßë</h3>
                            <p className="text-base sm:text-lg">Seres que participan en la historia y mueven la trama.</p>
                        </div>
                        <div className="bg-[#3a3a5a] p-4 rounded-xl shadow-inner border border-[#4a4a6a]">
                            <h3 className="text-xl sm:text-2xl font-bold text-[#ffe066] mb-3">Trama üìú</h3>
                            <p className="text-base sm:text-lg">La secuencia de eventos que forman la historia.</p>
                        </div>
                        <div className="bg-[#3a3a5a] p-4 rounded-xl shadow-inner border border-[#4a4a6a]">
                            <h3 className="text-xl sm:text-2xl font-bold text-[#ffe066] mb-3">Ambiente üå≥</h3>
                            <p className="text-base sm:text-lg">El tiempo y el lugar donde se desarrolla la narraci√≥n.</p>
                        </div>
                        <div className="bg-[#3a3a5a] p-4 rounded-xl shadow-inner border border-[#4a4a6a]">
                            <h3 className="text-xl sm:text-2xl font-bold text-[#ffe066] mb-3">Narrador üó£Ô∏è</h3>
                            <p className="text-base sm:text-lg">La voz que cuenta la historia al lector.</p>
                        </div>
                    </div>

                    {/* Actividad de arrastrar y soltar (interactiva) */}
                    <h3 className="text-2xl sm:text-3xl font-bold text-[#4da6ff] mb-4 text-center">Actividad Interactiva: ¬°Arrastra los ejemplos narrativos!</h3>
                    <p className="mb-4 text-lg text-center">Arrastra todos los ejemplos correctos de texto narrativo a la caja. <span className="font-bold text-[#ffe066]">Puntos: {score}</span></p>
                    <div className="flex flex-wrap justify-center gap-4 mb-6">
                        {/* Mapea las palabras disponibles para arrastrar */}
                        {availableWords.map((word) => (
                            <div
                                key={word}
                                draggable
                                onDragStart={(e) => handleDragStart(e, word)}
                                className="cursor-grab bg-[#9a4aff] p-3 rounded-lg shadow-md hover:bg-[#8038d1] transition-colors text-white"
                            >
                                {word}
                            </div>
                        ))}
                    </div>

                    {/* √Årea donde se suelta el elemento */}
                    <div
                        onDrop={handleDrop}
                        onDragOver={handleDragOver}
                        className="w-full max-w-sm h-24 border-dashed border-4 border-[#ffe066] rounded-xl flex items-center justify-center text-xl text-[#ffe066] p-4 transition-all duration-300"
                    >
                        {feedback ? (
                            <span className={`font-bold ${feedback.includes('Correcto') ? 'text-green-400' : 'text-red-400'}`}>{feedback}</span>
                        ) : (
                            'Suelta aqu√≠ los ejemplos de texto narrativo'
                        )}
                    </div>
                    {/* Muestra el feedback al usuario */}
                    {feedback && !feedback.includes('¬°Correcto!') && (
                        <p className={`mt-4 text-lg font-bold ${feedback.includes('Correcto') ? 'text-green-400' : 'text-red-400'}`}>
                            {feedback}
                        </p>
                    )}


                    {/* Bot√≥n para abrir la actividad del cuaderno */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => setShowNarrativeActivityModal(true)} icon="üìù" colorClass="bg-[#3a3a5a] hover:bg-[#4a4a6a]">
                            Actividad para tu Cuaderno
                        </NavButton>
                    </div>

                    {/* Renderiza el modal si showNarrativeActivityModal es true */}
                    {showNarrativeActivityModal && (
                        <ActivityModal
                            title="Actividad Narrativa para tu Cuaderno"
                            instructions={narrativeActivityContent}
                            onClose={() => setShowNarrativeActivityModal(false)}
                        />
                    )}

                    {/* Bot√≥n para volver al men√∫ principal */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => navigateTo('home')} icon="üè†">
                            Volver al Men√∫ Principal
                        </NavButton>
                    </div>
                </div>
            );
        };

        // Componente para la p√°gina de Texto Descriptivo (AHORA CON TRIVIA EXTENDIDA)
        const DescriptiveTextPage = ({ navigateTo, initializeAndPlaySound }) => {
            const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);
            const [score, setScore] = React.useState(0);
            const [feedback, setFeedback] = React.useState('');
            const [quizCompleted, setQuizCompleted] = React.useState(false);

            // Definici√≥n de las preguntas de la trivia descriptiva
            const descriptiveQuestions = [
                {
                    questionText: "¬øCu√°l de estas frases describe mejor una caracter√≠stica visual?",
                    options: [
                        "A) El perro ladr√≥ fuertemente.",
                        "B) La flor ten√≠a p√©talos suaves y de un intenso color rojo.", // Correcta
                        "C) Juan corri√≥ r√°pidamente hacia la meta.",
                        "D) La m√∫sica sonaba alegremente."
                    ],
                    correctAnswer: "B) La flor ten√≠a p√©talos suaves y de un intenso color rojo."
                },
                {
                    questionText: "Si est√°s describiendo el sabor de un lim√≥n, ¬øqu√© adjetivo usar√≠as principalmente?",
                    options: [
                        "A) √Åspero",
                        "B) Dulce",
                        "C) √Åcido", // Correcta
                        "D) Arom√°tico"
                    ],
                    correctAnswer: "C) √Åcido"
                },
                {
                    questionText: "¬øCu√°l es el prop√≥sito principal de un texto descriptivo?",
                    options: [
                        "A) Contar una historia emocionante.",
                        "B) Convencer al lector de una idea.",
                        "C) Pintar una imagen detallada con palabras para el lector.", // Correcta
                        "D) Dar instrucciones paso a paso."
                    ],
                    correctAnswer: "C) Pintar una imagen detallada con palabras para el lector."
                },
                {
                    questionText: "Para describir c√≥mo se siente la piel de un cactus, ¬øqu√© sentido usar√≠as principalmente?",
                    options: [
                        "A) Vista",
                        "B) O√≠do",
                        "C) Tacto", // Correcta
                        "D) Olfato"
                    ],
                    correctAnswer: "C) Tacto"
                },
                {
                    questionText: "Un buen texto descriptivo SIEMPRE busca:",
                    options: [
                        "A) Ser muy breve y general.",
                        "B) Usar solo sustantivos.",
                        "C) Ayudar al lector a imaginar con detalles sensoriales.", // Correcta
                        "D) Expresar una opini√≥n personal."
                    ],
                    correctAnswer: "C) Ayudar al lector a imaginar con detalles sensoriales."
                }
            ];

            // Manejador para la selecci√≥n de una respuesta en la trivia
            const handleAnswerSelection = (selectedOption) => {
                const currentQuestion = descriptiveQuestions[currentQuestionIndex];
                if (selectedOption === currentQuestion.correctAnswer) {
                    setFeedback('¬°Correcto! üéâ');
                    initializeAndPlaySound('correct');
                    setScore(prevScore => prevScore + 20); // Cada pregunta vale 20 puntos (5 preguntas * 20 puntos = 100)
                } else {
                    setFeedback('¬°Incorrecto! Int√©ntalo de nuevo en la siguiente pregunta.');
                    initializeAndPlaySound('incorrect');
                }

                // Pasa a la siguiente pregunta o finaliza el quiz despu√©s de un breve delay
                setTimeout(() => {
                    setFeedback(''); // Limpia el feedback
                    if (currentQuestionIndex < descriptiveQuestions.length - 1) {
                        setCurrentQuestionIndex(prevIndex => prevIndex + 1);
                    } else {
                        setQuizCompleted(true); // Marca el quiz como completado
                    }
                }, 1000); // Peque√±a pausa para que se vea el feedback
            };


            // Estado para controlar la visibilidad del modal de la actividad del cuaderno
            const [showDescriptiveActivityModal, setShowDescriptiveActivityModal] = React.useState(false);

            // Contenido de la actividad del cuaderno para el modal (EXTENDIDA)
            const descriptiveActivityContent = (
                <>
                    <p className="text-lg mb-4 leading-relaxed font-bold text-[#4da6ff]">
                        Tiempo estimado: 1 hora
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 1: Elige un lugar (15 minutos)**
                        <br/>
                        En tu cuaderno, piensa en un lugar que conozcas muy bien y te guste mucho: tu habitaci√≥n, un parque cercano, la casa de tu abuela, tu colegio. ¬øQu√© lugar elegir√≠as para describir con todo detalle?
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 2: ¬°Activa tus sentidos! (20 minutos)**
                        <br/>
                        Haz una lista de todo lo que puedes percibir en ese lugar usando tus cinco sentidos:
                        <ul className="list-disc list-inside ml-6 mt-2">
                            <li>**Vista:** ¬øQu√© colores, formas, tama√±os, texturas ves? ¬øHay objetos grandes o peque√±os?</li>
                            <li>**O√≠do:** ¬øQu√© sonidos escuchas? (p√°jaros, coches, risas, silencio).</li>
                            <li>**Olfato:** ¬øHay alg√∫n olor particular? (flores, comida, lluvia).</li>
                            <li>**Tacto:** ¬øC√≥mo se sienten las cosas? (suave, rugoso, fr√≠o, c√°lido).</li>
                            <li>**Gusto (si aplica):** Si hay comida o bebida, ¬øa qu√© sabe?</li>
                        </ul>
                        ¬°S√© lo m√°s detallado posible!
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 3: Escribe tu descripci√≥n (25 minutos)**
                        <br/>
                        Con tus listas de sentidos, escribe un texto descriptivo de al menos tres p√°rrafos sobre el lugar que elegiste. Usa muchos adjetivos y comparaciones (ej. "tan brillante como un espejo", "suave como el algod√≥n"). Intenta que quien lo lea pueda imaginarse el lugar sin haberlo visto.
                    </p>
                    <p className="text-lg font-semibold text-center mt-6">
                        ¬°Lee tu descripci√≥n en voz alta! ¬øTe transporta al lugar?
                    </p>
                </>
            );

            return (
                <div className="relative p-4">
                    <h2 className="text-3xl sm:text-5xl font-extrabold mb-6 text-[#4da6ff] text-center">
                        Texto Descriptivo üé®
                    </h2>
                    <p className="text-md sm:text-lg mb-6 leading-relaxed">
                        El texto descriptivo tiene como prop√≥sito principal pintar con palabras una imagen o idea, detallando las caracter√≠sticas de personas, lugares, objetos, situaciones o emociones. Utiliza adjetivos, sustantivos y comparaciones para que el lector pueda imaginar lo que se describe.
                    </p>
                    <p className="text-md sm:text-lg mb-8 leading-relaxed">
                        Puedes encontrar descripciones en novelas, cuentos, gu√≠as de viaje, retratos y hasta en anuncios.
                    </p>

                    {/* Actividad de Trivia */}
                    <h3 className="text-2xl sm:text-3xl font-bold text-[#ff7f50] mb-4 text-center">Actividad Interactiva: ¬°Trivia Descriptiva!</h3>

                    {!quizCompleted ? (
                        <div className="flex flex-col items-center justify-center p-4">
                            <p className="text-xl sm:text-2xl font-semibold mb-4 text-[#ffe066]">
                                Pregunta {currentQuestionIndex + 1} de {descriptiveQuestions.length}
                            </p>
                            <p className="mb-6 text-lg text-center leading-relaxed">
                                {descriptiveQuestions[currentQuestionIndex].questionText}
                            </p>
                            <div className="flex flex-col gap-4 max-w-lg w-full mx-auto">
                                {descriptiveQuestions[currentQuestionIndex].options.map((option, index) => (
                                    <button
                                        key={index}
                                        onClick={() => handleAnswerSelection(option)}
                                        className="p-3 rounded-lg shadow-md transition-all duration-200 text-left bg-[#3a3a5a] hover:bg-[#4a4a6a] text-white"
                                    >
                                        {option}
                                    </button>
                                ))}
                            </div>
                            {feedback && (
                                <p className={`mt-4 text-lg font-bold text-center ${feedback.includes('Correcto') ? 'text-green-400' : 'text-red-400'}`}>
                                    {feedback}
                                </p>
                            )}
                        </div>
                    ) : (
                        <div className="text-center p-4">
                            <h3 className="text-3xl sm:text-4xl font-extrabold text-[#ffe066] mb-4">
                                ¬°Trivia Completada! üéâ
                            </h3>
                            <p className="text-2xl sm:text-3xl font-bold mb-6">
                                Tu puntaje final es: <span className="text-[#9a4aff]">{score}</span> / {descriptiveQuestions.length * 20}
                            </p>
                            <NavButton onClick={() => {
                                setQuizCompleted(false);
                                setCurrentQuestionIndex(0);
                                setScore(0);
                                setFeedback('');
                            }} colorClass="bg-[#ff7f50] hover:bg-[#e66c40]">
                                Repetir Trivia
                            </NavButton>
                        </div>
                    )}


                    {/* Bot√≥n para abrir la actividad del cuaderno */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => setShowDescriptiveActivityModal(true)} icon="üìù" colorClass="bg-[#3a3a5a] hover:bg-[#4a4a6a]">
                            Actividad para tu Cuaderno
                        </NavButton>
                    </div>

                    {/* Renderiza el modal si showDescriptiveActivityModal es true */}
                    {showDescriptiveActivityModal && (
                        <ActivityModal
                            title="Actividad Descriptiva para tu Cuaderno"
                            instructions={descriptiveActivityContent}
                            onClose={() => setShowDescriptiveActivityModal(false)}
                        />
                    )}

                    {/* Bot√≥n para volver al men√∫ principal */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => navigateTo('home')} icon="üè†">
                            Volver al Men√∫ Principal
                        </NavButton>
                    </div>
                </div>
            );
        };

        // Componente para la p√°gina de Texto Expositivo
        const ExpositoryTextPage = ({ navigateTo, initializeAndPlaySound }) => {
            // Estados para la respuesta del usuario y el feedback
            const [answer, setAnswer] = React.useState('');
            const [feedback, setFeedback] = React.useState('');
            // Estado para controlar la visibilidad del modal de la actividad del cuaderno
            const [showExpositoryActivityModal, setShowExpositoryActivityModal] = React.useState(false);

            // Contenido de la actividad del cuaderno para el modal (EXTENDIDA)
            const expositoryActivityContent = (
                <>
                    <p className="text-lg mb-4 leading-relaxed font-bold text-[#ffe066]">
                        Tiempo estimado: 1 hora
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 1: Elige un tema de inter√©s (10 minutos)**
                        <br/>
                        En tu cuaderno, piensa en un tema que te genere curiosidad y del que quieras aprender m√°s (ej. "Los planetas del sistema solar", "La vida de los gatos", "C√≥mo se forman los arco√≠ris", "Inventos importantes"). Escribe 3 preguntas que tengas sobre este tema.
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 2: ¬°A investigar! (30 minutos)**
                        <br/>
                        Usando libros, enciclopedias o una fuente de internet confiable (p√≠dele ayuda a un adulto si usas internet), investiga las respuestas a tus preguntas y busca al menos 3 datos interesantes sobre tu tema. Anota la informaci√≥n clave en tu cuaderno.
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 3: Organiza tus ideas (10 minutos)**
                        <br/>
                        Crea un esquema o un mapa mental en tu cuaderno para organizar la informaci√≥n que encontraste. Piensa en una introducci√≥n, 2 o 3 ideas principales que vas a explicar, y una conclusi√≥n.
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 4: Escribe tu texto expositivo (10 minutos)**
                        <br/>
                        Ahora, escribe un texto expositivo corto en tu cuaderno (dos o tres p√°rrafos) explicando tu tema de manera clara y objetiva, usando la informaci√≥n que investigaste y organizaste. ¬°Recuerda que debes informar, no opinar!
                    </p>
                    <p className="text-lg font-semibold text-center mt-6">
                        ¬°Comparte tu texto con alguien y ens√©√±ale algo nuevo!
                    </p>
                </>
            );

            // Manejador para el env√≠o de la respuesta
            const handleSubmit = () => {
                // Verifica si la respuesta contiene la palabra clave y actualiza el feedback
                if (answer.toLowerCase().includes('informar') || answer.toLowerCase().includes('explicar')) {
                    setFeedback('¬°Fant√°stico! El texto expositivo busca informar o explicar. üéâ');
                    initializeAndPlaySound('correct'); // Reproduce sonido correcto
                } else {
                    setFeedback('¬°Casi! Piensa en la principal misi√≥n de este tipo de texto.');
                    initializeAndPlaySound('incorrect'); // Reproduce sonido incorrecto
                }
            };

            return (
                <div className="relative p-4">
                    <h2 className="text-3xl sm:text-5xl font-extrabold mb-6 text-[#ffe066] text-center">
                        Texto Expositivo üí°
                    </h2>
                    <p className="text-md sm:text-lg mb-6 leading-relaxed">
                        El texto expositivo tiene como objetivo principal informar de manera clara y objetiva sobre un tema espec√≠fico. No busca convencer ni contar una historia, sino explicar hechos, conceptos o ideas de forma organizada y estructurada.
                    </p>
                    <p className="text-md sm:text-lg mb-8 leading-relaxed">
                        Ejemplos de textos expositivos son los libros de texto, enciclopedias, art√≠culos cient√≠ficos, noticias y manuales.
                    </p>

                    {/* Actividad de rellenar el espacio (interactiva) */}
                    <h3 className="text-2xl sm:text-3xl font-bold text-[#9a4aff] mb-4 text-center">Actividad Interactiva: Completa la frase</h3>
                    <p className="mb-4 text-lg text-center">El prop√≥sito principal de un texto expositivo es __________.</p>
                    <div className="flex flex-col sm:flex-row items-center justify-center gap-4 max-w-lg mx-auto">
                        {/* Campo de entrada de texto */}
                        <input
                            type="text"
                            value={answer}
                            onChange={(e) => setAnswer(e.target.value)} // Actualiza el estado con la entrada del usuario
                            placeholder="Escribe tu respuesta aqu√≠..."
                            className="flex-grow p-3 rounded-lg bg-[#3a3a5a] text-[#e0e0e0] placeholder-[#b0b0b0] border border-[#4a4a6a] focus:outline-none focus:ring-2 focus:ring-[#ffe066]"
                        />
                        {/* Bot√≥n para verificar la respuesta */}
                        <NavButton onClick={handleSubmit} colorClass="bg-[#ff7f50] hover:bg-[#e66c40]">
                            Verificar
                        </NavButton>
                    </div>
                    {/* Muestra el feedback al usuario */}
                    {feedback && (
                        <p className={`mt-4 text-lg font-bold text-center ${feedback.includes('Fant√°stico') ? 'text-green-400' : 'text-red-400'}`}>
                            {feedback}
                        </p>
                    )}

                    {/* Bot√≥n para abrir la actividad del cuaderno */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => setShowExpositoryActivityModal(true)} icon="üìù" colorClass="bg-[#3a3a5a] hover:bg-[#4a4a6a]">
                            Actividad para tu Cuaderno
                        </NavButton>
                    </div>

                    {/* Renderiza el modal si showExpositoryActivityModal es true */}
                    {showExpositoryActivityModal && (
                        <ActivityModal
                            title="Actividad Expositiva para tu Cuaderno"
                            instructions={expositoryActivityContent}
                            onClose={() => setShowExpositoryActivityModal(false)}
                        />
                    )}

                    {/* Bot√≥n para volver al men√∫ principal */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => navigateTo('home')} icon="üè†">
                            Volver al Men√∫ Principal
                        </NavButton>
                    </div>
                </div>
            );
        };

        // Componente para la p√°gina de Texto Argumentativo
        const ArgumentativeTextPage = ({ navigateTo, initializeAndPlaySound }) => {
            // Estados para los elementos seleccionados y el feedback
            const [selectedItems, setSelectedItems] = React.useState([]);
            const [feedback, setFeedback] = React.useState('');
            // Estado para controlar la visibilidad del modal de la actividad del cuaderno
            const [showArgumentativeActivityModal, setShowArgumentativeActivityModal] = React.useState(false);

            // Contenido de la actividad del cuaderno para el modal (EXTENDIDA)
            const argumentativeActivityContent = (
                <>
                    <p className="text-lg mb-4 leading-relaxed font-bold text-[#9a4aff]">
                        Tiempo estimado: 1 hora
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 1: Elige un tema de debate (15 minutos)**
                        <br/>
                        Piensa en un tema sobre el que tengas una opini√≥n clara, y que se pueda debatir (ej. "¬øDeber√≠an los estudiantes usar uniformes en la escuela?", "¬øEs mejor leer libros f√≠sicos o digitales?", "¬øEs importante reciclar?"). Escribe tu opini√≥n o "tesis" en tu cuaderno.
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 2: Busca argumentos para tu tesis (20 minutos)**
                        <br/>
                        Ahora, anota al menos 3 razones o pruebas que apoyen tu opini√≥n. Piensa en por qu√© crees lo que crees. ¬°Estas ser√°n tus argumentos!
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 3: Piensa en un contra-argumento (10 minutos)**
                        <br/>
                        Para que tu texto argumentativo sea m√°s fuerte, piensa en una raz√≥n que alguien podr√≠a dar en contra de tu opini√≥n, y luego, piensa c√≥mo refutar√≠as ese contra-argumento (c√≥mo le dar√≠as la vuelta para seguir defendiendo tu tesis).
                    </p>
                    <p className="text-lg mb-4 leading-relaxed">
                        **Paso 4: Escribe tu texto argumentativo (15 minutos)**
                        <br/>
                        Usando tu tesis, tus argumentos y tu contra-argumento (con su refutaci√≥n), escribe un texto argumentativo en tu cuaderno. Incluye una introducci√≥n donde presentas tu tesis, un desarrollo con tus argumentos y la refutaci√≥n, y una conclusi√≥n que reafirme tu opini√≥n.
                    </p>
                    <p className="text-lg font-semibold text-center mt-6">
                        ¬°Practica present√°ndolo a un amigo o familiar!
                    </p>
                </>
            );

            // Elementos correctos para la actividad
            const correctItems = ['Tesis', 'Argumentos', 'Conclusi√≥n'];

            // Manejador para alternar la selecci√≥n de un elemento
            const handleToggle = (item) => {
                setSelectedItems((prev) =>
                    prev.includes(item) ? prev.filter((i) => i !== item) : [...prev, item] // A√±ade o quita el elemento de la selecci√≥n
                );
            };

            // Manejador para el env√≠o de la actividad
            const handleSubmit = () => {
                // Comprueba si los elementos seleccionados coinciden con los correctos
                const isCorrect =
                    selectedItems.length === correctItems.length &&
                    correctItems.every((item) => selectedItems.includes(item));
                if (isCorrect) {
                    setFeedback('¬°Incre√≠ble! Esas son las partes principales de un texto argumentativo. üéâ');
                    initializeAndPlaySound('correct'); // Reproduce sonido correcto
                } else {
                    setFeedback('¬°Sigue intent√°ndolo! Revisa las partes fundamentales.');
                    initializeAndPlaySound('incorrect'); // Reproduce sonido incorrecto
                }
            };

            // Todos los elementos disponibles para la actividad
            const allItems = [
                'Tesis',
                'Introducci√≥n',
                'Personajes',
                'Argumentos',
                'Conclusi√≥n',
                'Narrador',
            ];

            return (
                <div className="relative p-4">
                    <h2 className="text-3xl sm:text-5xl font-extrabold mb-6 text-[#9a4aff] text-center">
                        Texto Argumentativo üó£Ô∏è
                    </h2>
                    <p className="text-md sm:text-lg mb-6 leading-relaxed">
                        El texto argumentativo tiene como finalidad defender una idea (llamada tesis) y convencer al lector de su validez, o persuadirlo para que adopte una postura o realice una acci√≥n. Para ello, presenta razones o pruebas (argumentos) que apoyan la tesis.
                    </p>
                    <p className="text-md sm:text-lg mb-8 leading-relaxed">
                        Lo encontramos en editoriales de peri√≥dicos, ensayos, discursos pol√≠ticos, cr√≠ticas y debates.
                    </p>

                    {/* Actividad de categorizaci√≥n (interactiva) */}
                    <h3 className="text-2xl sm:text-3xl font-bold text-[#ffe066] mb-4 text-center">Actividad Interactiva: Partes del Argumentativo</h3>
                    <p className="mb-6 text-lg text-center">Selecciona las tres partes m√°s importantes de un texto argumentativo:</p>
                    <div className="flex flex-wrap justify-center gap-3 mb-6 max-w-2xl mx-auto">
                        {/* Mapea y renderiza los botones de selecci√≥n */}
                        {allItems.map((item) => (
                            <button
                                key={item}
                                onClick={() => handleToggle(item)}
                                className={`p-3 rounded-lg shadow-md transition-colors duration-200 ${
                                    selectedItems.includes(item)
                                        ? 'bg-[#4da6ff] text-white' // Estilo si est√° seleccionado
                                        : 'bg-[#3a3a5a] hover:bg-[#4a4a6a] text-[#e0e0e0]' // Estilo si no est√° seleccionado
                                }`}
                            >
                                {item}
                            </button>
                        ))}
                    </div>
                    <div className="text-center">
                        {/* Bot√≥n para verificar la selecci√≥n */}
                        <NavButton onClick={handleSubmit} colorClass="bg-[#ff7f50] hover:bg-[#e66c40]">
                            Verificar
                        </NavButton>
                    </div>
                    {/* Muestra el feedback al usuario */}
                    {feedback && (
                        <p className={`mt-4 text-lg font-bold text-center ${feedback.includes('Incre√≠ble') ? 'text-green-400' : 'text-red-400'}`}>
                            {feedback}
                        </p>
                    )}

                    {/* Bot√≥n para abrir la actividad del cuaderno */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => setShowArgumentativeActivityModal(true)} icon="üìù" colorClass="bg-[#3a3a5a] hover:bg-[#4a4a6a]">
                            Actividad para tu Cuaderno
                        </NavButton>
                    </div>

                    {/* Renderiza el modal si showArgumentativeActivityModal es true */}
                    {showArgumentativeActivityModal && (
                        <ActivityModal
                            title="Actividad Argumentativa para tu Cuaderno"
                            instructions={argumentativeActivityContent}
                            onClose={() => setShowArgumentativeActivityModal(false)}
                        />
                    )}

                    {/* Bot√≥n para volver al men√∫ principal */}
                    <div className="mt-12 text-center">
                        <NavButton onClick={() => navigateTo('home')} icon="üè†">
                            Volver al Men√∫ Principal
                        </NavButton>
                    </div>
                </div>
            );
        };

        // Componente para la p√°gina de Teor√≠a del Texto
        const TheoryPage = ({ navigateTo, initializeAndPlaySound }) => (
            <div className="relative p-4">
                <h2 className="text-3xl sm:text-5xl font-extrabold mb-6 text-[#6c757d] text-center">
                    Teor√≠a del Texto üß†
                </h2>
                <p className="text-md sm:text-lg mb-6 leading-relaxed">
                    Un texto es cualquier conjunto de palabras que tiene un sentido completo y una intenci√≥n comunicativa. Puede ser escrito u oral. ¬°Piensa en un cuento, una conversaci√≥n, un cartel o un mensaje de WhatsApp! Todos son textos.
                </p>
                <p className="text-md sm:text-lg mb-6 leading-relaxed">
                    Los textos sirven para much√≠simas cosas: para contar historias, para informar, para explicar c√≥mo hacer algo, para convencer, para expresar sentimientos... Cada texto tiene un prop√≥sito.
                </p>
                <p className="text-md sm:text-lg mb-8 leading-relaxed">
                    Las caracter√≠sticas principales de un buen texto son:
                </p>
                {/* Lista de caracter√≠sticas del texto con estilos destacados */}
                <ul className="list-disc list-inside text-lg space-y-2 mb-8 ml-4">
                    <li>
                        <span className="font-bold text-[#ff7f50]">Coherencia:</span> Que las ideas est√©n relacionadas y tengan sentido l√≥gico.
                    </li>
                    <li>
                        <span className="font-bold text-[#4da6ff]">Cohesi√≥n:</span> Que las palabras y frases est√©n bien conectadas entre s√≠ (usando conectores como "y", "pero", "entonces").
                    </li>
                    <li>
                        <span className="font-bold text-[#ffe066]">Adecuaci√≥n:</span> Que el texto sea apropiado para la situaci√≥n y el p√∫blico al que va dirigido.
                    </li>
                </ul>

                {/* Secci√≥n sobre la importancia de leer y escribir */}
                <h3 className="text-2xl sm:text-3xl font-bold text-[#9a4aff] mb-4 text-center">¬°Importancia!</h3>
                <p className="text-md sm:text-lg mb-8 leading-relaxed text-center">
                    Leer y escribir bien es s√∫per importante porque nos ayuda a entender el mundo, a expresar lo que pensamos y sentimos, y a comunicarnos mejor con los dem√°s. ¬°Es una herramienta m√°gica!
                </p>

                {/* Bot√≥n para volver al men√∫ principal */}
                <div className="mt-12 text-center">
                    <NavButton onClick={() => navigateTo('home')} icon="üè†">
                        Volver al Men√∫ Principal
                    </NavButton>
                </div>
            </div>
        );

        // Monta el componente principal de la aplicaci√≥n en el elemento con id 'root'
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
